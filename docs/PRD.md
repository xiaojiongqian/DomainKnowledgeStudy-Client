# DomainKnowledgeStudy-Client 产品需求文档 (PRD)

## 项目概述
DomainKnowledgeStudy-Client 一个针对领域知识库进行学习、出题和考核的 web 系统：
1. 对接 LLM-RAG 系统，用于学习、出题及考核模块的内容
2. 学习：基于知识库生成知识点，在交互式问答界面中提供知识点按钮，进行解答式和提问式学习
3. 出题：自动生成题目（附答案和分析），确认后导入题库；支持选择题与问答题，题目按知识点分类确保均衡
4. 题库：可批量生成考题，并可对内容进行增、删、改
5. 考核：从题库中随机抽题，选择题按标准答案批改，问答题由 LLM 批改，考核成绩记录历史数据
6. 学员主页：可查看学习进展、考试结果和弱项分析
7. 配置界面：可配置出题数量、知识点覆盖率、重点知识点及通过标准、及其它必要配置项

** 注：还有一个后端项目工程，名为DomainKnowledgeStudy-Server

## 文档结构
### 1. 执行摘要
提供简明概述，包括：
- 产品愿景与目标
  * 通过AI工具和领域知识库,为用户提供高效的学习和考核平台,帮助用户系统地掌握专业知识
- 目标用户群
  * 客户服务人员、管理者

### 2. 问题陈述
描述以下内容：
- 当前痛点和挑战
  * 客户服务人员、管理者需要系统地掌握专业知识，但缺乏有效的学习工具和考核平台
- 市场机会
  * 通过AI工具和领域知识库,为用户提供高效的学习和考核平台,帮助用户系统地掌握专业知识
- 用户需求与反馈
  * 用户需要一个高效的学习和考核平台,帮助他们系统地掌握专业知识
- 业务影响与目标
  * 通过提供高效的学习和考核平台,帮助用户系统地掌握专业知识,提高工作效率和质量

### 3. 产品范围
详细说明：
- 核心功能与能力
  * 基于领域知识库生成学习大纲
  * 提供交互式问答界面,方便用户学习
  * 自动生成题目(附答案和题目内容分析)
  * 支持选择题与问答题,题目按知识点分类确保均衡
  * 支持批量自动生成考题,并可对内容进行增、删、改操作
  * 从题库中随机抽题,选择题自动批改,问答题由LLM系统批改
  * 考核完成后,学员可查看批改结果(包括正确答案及LLM提供的问答题答案评论)和题目分析,以促进学习提升
  * 考核配置界面:可配置出题数量、知识点覆盖率、重点知识点及通过标准
- 用户角色及用户旅程图
  * 用户角色:学员、管理员
  * 用户旅程图:
    * 学员:登录系统->选择学习模块->学习知识点->答题->查看结果->查看分析->继续学习
    * 管理员:登录系统->选择考核模块->配置考核参数->生成考题->导入题库->配置考核规则->发布考核->查看结果->统计分析
- 用例与用户故事
  * 用例:
    * 学员:学习用例->答题用例->查看结果用例->查看分析用例
    * 管理员:配置考核参数用例->生成考题用例->导入题库用例->配置考核规则用例->发布考核用例->查看结果用例->统计分析用例
  * 用户故事:
    * 学员:作为学员,我希望能够通过学习模块系统地掌握专业知识,并能随时查看学习进度和结果
    * 管理员:作为管理员,我希望能够通过考核模块对学员的学习情况进行考核和评估,并能查看统计分析结果 

### 4. 技术需求
具体说明：
- 系统架构概览
- 平台需求
  * web系统,前后端分离
  * 前端:vue3,pinia,vue-router
  * 后端:springboot,mybatis-plus,mysql
  * 接口:基于JSON的API,通过HTTP协议进行访问
- 集成要求
  * 后端对接LLM-RAG系统,通过基于JSON的API进行访问
- 性能标准
  * 响应时间:1秒以内
  * 并发用户数:1000
  * 吞吐量:1000/秒
- 安全需求
  * 用户认证:基于JWT的认证
  * 数据加密:基于AES的加密
- 可扩展性考虑
  * 可对接各类LLM-RAG系统
  * 可对接各类数据库

### 5. 功能规格

对每项功能详细描述：
## 5.1 系统管理模块
- 用户与角色管理：提供用户账户管理功能，支持企业员工、客服人员等注册登录。管理员（Admin）角色可以分配权限，普通用户只能进行学习和考试等操作，管理员可以进行内容配置和系统维护。
- 权限控制：基于角色的权限管理（RBAC），不同角色对应不同功能访问权限。例如，管理员可以管理知识库、题库和用户，普通用户只能访问学习内容和参与考核。
- 组织与分组：支持将用户按部门、团队分组，便于针对不同组制定学习计划和考试。管理员可以针对不同组织单元指定知识库范围或考试试卷。
- 账户安全：提供登录认证（如密码策略、验证码），支持单点登录（SSO）与企业内的LDAP/AD集成，保障企业用户身份验证安全。
- 用户信息管理：管理员可查看和编辑用户基本信息（姓名、部门、岗位等），重置用户密码，启用/禁用账户等。

## 5.2 学习模块
- 知识点生成：系统通过已有的LLM-RAG知识库，可生成关键知识点及其对应预设的若干个问题。知识点涵盖重要概念和主题，帮助学员了解整体学习框架，针对于知识点的问题要能够覆盖到知识点的关键概念和应用。生成的知识点、解析、问题、答案列出后，可以编辑调整，保存到数据库。知识点数量不应过多，以10个左右为宜。
- 知识点详情：在交互式学习界面中，左侧导航栏的下方区域会展示当前上下文的知识点列表（作为二级导航）。学员点击特定知识点，即可在右侧对话框页面查看该知识点详情，首先展示的是该知识点的内容，而后部分（在同一个界面中）为交互对话。页面的初始内容是当前知识点内容，后续用户可以通过在下面的输入框输入文字等内容，同系统交互学习。
- 提示性问题：在用户提问输入框上方，根据当前知识点和上下文，自动生成适合的提示性问题，便于用户直接点击提问。
- 学习进度提示：整体上，系统记录每个学员的学习进度，并在学习界面显著位置通过进度条提示。每个知识点上，也记录当前知识点的学习进度，通过UI提示。
- 多媒体学习支持：知识点内容支持富媒体形式，如嵌入图片、图表或视频讲解（如果知识库包含这些内容），提高学习效果和趣味性。

## 5.3 题库管理与出题模块
- 自动出题生成：管理员可利用LLM-RAG接口自动生成练习和考核题目。系统支持根据指定的知识点或章节，由大模型生成题目、标准答案和题目解析。
- 题目类型多样：支持选择题（单选、多选）和问答题（简答、论述）等多种题型生成。管理员可选择题型比例，如主要生成选择题或混合题型，满足不同考核需求。
- 题目内容平衡：生成题目时按照知识点分类，确保各知识点覆盖均衡，不会出现某些知识点考题过多或遗漏。管理员可以设定每个知识领域的出题占比，系统据此生成题目。
- 题目解析：每道题自动附带标准答案和解析说明。解析基于知识库内容，由LLM生成，解释答案依据、相关知识点拓展，帮助学员在练习或考核后理解错题。
- 题目审核与编辑：自动生成的题目进入待审核列表。管理员可以预览题目及答案解析，进行修改润色或删除不合适的题目。审核通过后，一键导入正式题库。
- 批量生成与配置：提供出题配置界面，支持一次性批量生成多道题目。管理员可配置需要生成题目的数量、覆盖的知识范围、难易程度分布等参数，系统将根据配置调用LLM批量生成题目集。
- 题库分类管理：题库中的题目按知识点、主题或难度分类存储。管理员可以对题目分类进行增删改查，例如新建知识点分类、调整题目所属分类，确保题库结构清晰。
- 题目维护：支持手工添加题目功能，管理员可自行录入题目及答案解析（例如针对LLM未涵盖的特殊知识点）。同时支持题目内容编辑修改和删除，保持题库的准确性和时效性。
- 题库查询与导出：管理员可按照知识点、关键词搜索题库题目，查看题目详情和答案。支持将题库按需导出为Excel/CSV等格式，用于线下备份或内容审阅。

## 5.4 考核模块
- 随机组卷考试：系统支持根据题库随机抽取题目组卷。每次考核自动挑选配置数量的题目集合，确保不同学员、不同时次考试题目顺序和内容随机，减少作弊可能。
- 考核配置：管理员可以设置考试卷的参数，如总题数、各知识点题目比例、题目难度组合以及重点知识点必考题。支持设定考试时间限制、及格标准（如60分）和是否允许多次重考等。
- 在线答题：学员进入考核后，系统按设定逐题展示考题。支持单题模式或整卷模式作答。选择题提供选项按钮，问答题提供文本输入框供学员作答。
- 选择题自动批改：学员提交考卷后，系统立即对选择题进行自动评分。后台将学员选择与标准答案比对，计算客观题得分，确保快速准确地评出部分成绩。
- 问答题AI批改：对于开放问答题，系统调用LLM-RAG对学员答案进行评估批改。LLM根据预设的参考答案和知识库内容，判断答案正确性、完整性，给出评分和简要评语。
- 成绩计算与存储：综合选择题和问答题得分，计算学员本次考核总成绩。系统将成绩、答题耗时、考试日期等信息保存到数据库，建立个人历史成绩档案。
- 结果反馈与解析：考核提交后，学员可即时查看详细结果反馈。包括每题得分对错情况，正确答案，以及题目解析。对于问答题，除标准答案外还提供LLM给出的评语或答案要点对比，帮助学员了解自己的答案不足之处。
- 错题巩固：系统为学员生成错题练习建议。学员可一键重新练习答错的题目，或查看相关知识点学习资料链接，以巩固弱项知识。
- 历史成绩查询：学员可以查看个人历次考试记录和成绩走势，了解自身进步。管理员也可查询所有学员的成绩数据，用于评估整体培训效果。
- 练习模式：学员可以针对某个知识点进行练习，系统会根据知识点生成若干道题目，学员可以针对这些题目进行练习，系统会根据学员的答题情况实时给出评分和解析。

## 5.5 系统集成模块
- LLM-RAG接口对接：系统通过JSON格式的API与已有LLM-RAG知识库后端集成。后端负责检索知识库并调用大模型，为学习大纲生成、问答解答、自动出题和智能批改等功能提供支持。
- API调用管理：后端服务（Spring Boot）封装与LLM-RAG的通信模块，统一管理各种请求类型（如获取学习大纲、生成题目、批改答案）。确保请求包含必要参数（知识点、题量、用户答案等），并正确解析大模型返回的数据。
- 异步与并发控制：对于可能耗时的LLM调用（如批量出题生成或长答案评测），系统采用异步处理或后台任务，以防止前端界面长时间冻结。支持并发调用队列和限流策略，避免瞬时大量请求导致接口拥堵或崩溃。
- 错误处理与重试：集成模块实现健壮的错误处理机制。如果LLM接口调用失败或超时，系统及时记录错误并反馈友好信息给前端（如"服务繁忙，请稍后重试"）。对于临时性网络或超时错误，可尝试自动重试一定次数，确保功能可靠性。
- 结果缓存：对于重复请求较多的内容（例如固定的学习大纲或常见问题答案），系统可对LLM结果进行短期缓存，减少频繁调用，提升响应速度并降低API调用成本。
- 外部系统集成：除了大模型接口，系统预留与其他企业内部系统的集成功能。例如可与公司现有培训管理系统对接，导入员工名单或导出成绩数据；支持与即时通讯工具集成，在考试完成后通过企业微信/邮件通知结果等。
- 配置管理：提供接口配置界面，管理员可设置LLM-RAG服务的URL、鉴权密钥等参数。支持在生产和测试环境间切换不同的知识库服务地址，保障系统灵活部署。

## 5.6 多语言支持模块
- 界面多语言：系统前端基于Vue框架实现国际化（i18n），提供多语言界面文本支持。用户可以在界面选择语言（如中文、英文等），切换后所有菜单、按钮、提示信息即时更新为对应语言。
- 内容多语言：知识库内容和题库题目支持多语言存储和呈现。如果企业知识库有中英文版本，系统可根据用户选择提供相应语言的学习材料和试题。对于只提供单语言的内容，可考虑集成翻译服务以供其他语言用户参考。
- 题目翻译选项：对于考题，提供题目和解析的多语言版本。例如中文母语的学员使用中文试卷，英文界面的用户则看到英文翻译的题目和解析。确保不同语言用户都能使用系统进行学习和考核。
- 输入输出本地化：支持多语言输入及特殊字符处理。例如问答题支持学员用任意语言回答（根据知识库语言自动判别），LLM批改时也考虑语言差异。系统消息如错误提示、成绩反馈也都按用户界面语言显示。
- 时区与格式设置：根据用户地区调整日期时间显示格式、数字格式等本地化设置，提升不同地区用户的使用体验。

## 5.7 日志与安全模块
- 操作日志：系统详细记录关键操作日志，如用户登录登出、管理员增删改题目、考核配置变更等。日志包括时间、用户、操作描述等信息，方便日后审计追踪。
- 审计追踪：对重要数据变更和敏感操作进行审计日志记录，例如权限修改、手动改分等，确保有据可查。管理员可查看审计日志，及时发现异常行为或安全隐患。
- 异常日志与报警：后端对接LLM或数据库出错时，记录错误堆栈日志。支持设置报警机制，当出现连续接口失败、批改异常等情况时，通过邮件或运维系统发出告警通知技术人员及时处理。
- 数据安全：系统中的知识库内容、考题和用户答卷结果存储在服务器端，采取必要的安全措施保护数据机密性。例如数据库加密存储敏感信息，通信接口全程HTTPS加密，防止数据泄露。
- 访问控制：结合权限模块，确保不同角色用户只能访问授权范围内的数据。例如普通用户只能查看自己的成绩，不能访问他人信息；管理员只能操作自己管辖范围内的内容。
- 防滥用与审计：对于LLM接口的使用设置配额或频率限制，防止恶意调用耗费过多资源。系统定期审计接口使用情况，检测异常的大量调用或可疑输入，防范潜在滥用行为。
- 备份与恢复：定期对题库、成绩数据和日志进行备份，防止意外数据丢失。提供数据恢复机制，在发生系统故障或数据损坏时能够及时还原，保障系统可靠运行。

## 5.8 数据分析与报告模块
- 学习行为分析：系统收集并分析学员的学习行为数据，例如每个知识点的访问次数、学习时长、提问次数等。通过这些数据，管理员可以评估哪些知识点最受关注或最具挑战，优化培训内容。
- 成绩数据统计：提供考试成绩的统计报表。包括个人层面的成绩趋势（如某员工多次考试分数曲线）、整体层面的通过率分析、平均分、最高分等，帮助管理者评估培训效果和考试难度合理性。
- 知识点掌握度：根据考试结果统计各知识点的正确率。生成知识点掌握度报告，指出哪些知识点普遍得分率低（学习薄弱区），以便针对性地加强相关培训或调整题库难度。
- 题目质量分析：统计每道题目的答错率、平均得分等指标，筛选出区分度不佳或错误率异常高的题目。管理员可据此判断题目是否需要修改（例如题目有歧义或超纲）以及题库整体质量。
- 使用率报告：记录系统使用情况，包括每日活跃用户数、学习模块与考核模块的使用频次。生成可视化报表供管理员查看，以了解系统在员工中的使用推广效果。
- 导出与分享：分析报告支持一键导出为PDF/Excel等格式，方便培训管理者在内部分享汇报。关键数据图表也可直接在管理后台查看，并支持权限控制下由相关负责人访问。
反馈与改进：结合数据分析结果，系统可以为管理员提供改进建议。例如当某知识点多次出现学习困难和考试低分时，提示管理员更新知识库内容或增加练习题量，不断提升培训效果。


### 6. 非功能需求
- 安全标准
  * 用户认证:基于JWT的认证
  * 数据加密:基于AES的加密
- 国际化需求
  * 支持多语言
  * 支持国际化
  * 支持多设备
  * 支持多浏览器
  * 支持多操作系统
- 合规要求
  * 符合国家相关法律法规
  * 符合行业相关标准


### 7. 成功指标
- 关键绩效指标 (KPIs)
  * 用户满意度
  * 用户活跃度
  * 用户留存率
  * 用户转化率
  * 用户复购率
  * 用户流失率
- 成功标准
  * 系统稳定运行
  * 系统性能达到预期
  * 系统安全可靠
  * 系统易于维护
  * 系统易于扩展
- 监控计划
  * 监控系统性能
  * 监控系统安全
  * 监控系统稳定性
  * 监控系统扩展性
- 反馈收集方法
  * 用户反馈
